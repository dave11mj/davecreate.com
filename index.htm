<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8" />

<title>dave create</title>

<!--link rel="icon" href="favicon.ico"/-->
<!--link rel="shortcut icon" href="favicon.ico"/-->

<link rel="icon" type="image/ico" href="http://www.davecreate.com/favicon.ico"/>

<!--[if lt IE 9>

<script type="text/javascript">

document.createElement('header');

document.createElement('section');

document.createElement('article');

document.createElement('nav');

document.createElement('aside');

document.createElement('footer');

document.createElement('hgroup');

</script>

<![endif]-->

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<!--script src="js/html2canvas.js" type="text/javascript"></script-->

<style type="text/css">

/*CSS RESET! */

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

body, html{
	overflow:hidden;
	height:100%;
	width:100%;
	background-color:#111;
}

.bg_grid{
	position:absolute;
	margin:0; padding:0;
	/*border:dotted 1px rgba(102,102,102,1);*/
	/*border:dotted 1px rgba(51,51,51,0.7);*/
	border:dotted 1px #333;
	/*border-right:dotted 1px #999;*/
	color:#FFF;
	opacity:0;
	cursor:url(assets/cursors/pen.png), auto;
	
	 -moz-user-select: -moz-none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -o-user-select: none;
  user-select: none;
}

.bg_highlight
{
	z-index:1;
	border:solid 1px #FFF;
	background-color:#FFF;
	transition: background-color 1s, border 1s;
	-webkit-transition: background-color 1s, border 1s; /* Safari */
	-moz-transition: background-color 1s, border 1s; /* FireFox */
	-ms-transition: background-color 1s, border 1s;
	-o-transition: background-color 1s, border 1s;
}

.bg_grid_row
{   position:relative;
	
	margin:-1px 0 0 -26px; padding:0;
	width:100%; 	
}
.bg_grid:hover
{

}

.bg_grid_container{
	position:absolute;
	top:50%; left:50%;	
}
/*
.screenShot{
	position:absolute;
	width:300px;
	
	transform:scale(0.2,0.2);
	-ms-transform:scale(0.2,0.2);
	-webkit-transform:scale(0.2,0.2);
	
}

canvas{
	width:100%;	
}
*/

</style>

</head>

<body>

<div class="bg_grid_container">
</div>


<script type="text/javascript">

$(document).ready(function() {
  // Handler for .ready() called.
  
  console.log($(document).width() + ' by ' +  $(document).height());
  console.log($(window).width() + ' by ' +  $(window).height());
  
 	var grid_col = 48;
	var grid_size;
	var grid_row = 27;
	
	console.log(grid_size);
	console.log(grid_row);

	var rtime = new Date(1, 1, 2000, 12,00,00);
	var timeout = false;
	var delta = 200;
	
	$(window).resize(function() {
		console.log('resizing');
		rtime = new Date();
		if (timeout === false) {
			timeout = true;
			setTimeout(resizeend, delta);
		}
	});
	
	function resizeend() {
		if (new Date() - rtime < delta) {
			setTimeout(resizeend, delta);
		} else {
			timeout = false;
			console.log('Done resizing');
			updateBGGrid();
		}               
	}
	
	addBGGrid();
	addBGGridListeners();
	
	function addBGGrid(){
		grid_size = ($(window).width() / grid_col)+1;
		
		for (var grid_t=0; grid_t < grid_row; grid_t++){ $('.bg_grid_container').append('<div class="bg_grid_row"></div>'); }
		$('.bg_grid_row').each(function(index, element) {
            for(var grid_i=0; grid_i < grid_col; grid_i++){
				$(this).append('<div class="bg_grid"></div>');
				var row_i = $('.bg_grid_row').index(this);
				var delay_ran = Math.random() * (40 - 5) + 1;
				$(this).children('.bg_grid').eq(grid_i).css('left', ((grid_size+1)*grid_i)+'px');
				$(this).children('.bg_grid').eq(grid_i).delay(100*delay_ran).animate({opacity:'1'}, 500);		
			}
        });
		
		BGGrid_dynamicValues();
	}
	
	function updateBGGrid(){
		grid_size = ($(window).width() / grid_col);
		$('.bg_grid_row').each(function(index, element) {
			for(var grid_i=0; grid_i < grid_col; grid_i++){
				var row_i = $('.bg_grid_row').index(this);
				$(this).children('.bg_grid').eq(grid_i).css('left', ((grid_size+1)*grid_i)+'px');
		
			}
		});
		
		BGGrid_dynamicValues();
		
	}
	
	function BGGrid_dynamicValues(){
		$('.bg_grid_row').css('height', grid_size+2 + 'px');
		$('.bg_grid').css('width', grid_size + 'px');
		$('.bg_grid').css('height', grid_size + 'px');
		$('.bg_grid_container').css('margin-top', $('.bg_grid_container').height()/-2 + 'px');
		$('.bg_grid_container').css('width',$(window).width() + 'px');
		$('.bg_grid_container').css('margin-left', $('.bg_grid_container').width()/-2 + 'px');
	}
	
	var drawingActive = false;
	function addBGGridListeners(){
			$('.bg_grid').mousedown(function(){
						//$('.bg_grid').css('cursor', 'url(assets/cursors/pen.cur), pointer');
						drawingActive = true;
						//console.log($('.bg_grid_row').children('.bg_grid').index(this));
						if($(this).hasClass('bg_highlight')){
										$(this).removeClass('bg_highlight');
									}else{
									   $(this).addClass('bg_highlight');
							}
									
			});
			
			$('.bg_grid').mouseup(function(){
						//$('.bg_grid').css('cursor', 'default');
						drawingActive = false;
			});
			
			$('.bg_grid').mouseenter(
			function(){
				if(drawingActive==true){
					if($(this).hasClass('bg_highlight')){
										$(this).removeClass('bg_highlight');
									}else{
									   $(this).addClass('bg_highlight');
									   //$(this).html();
									 
									}
					}
			});
	}
	
	
	//var logo_grid = new Array(378, 426,474,522,570,569,568,520,472,473);
	/*
	for (var logo_i = 0; logo_i < logo_grid.length; logo_i++){
		console.log(logo_grid[logo_i]);
		$('.bg_grid').eq(logo_grid[logo_i]).delay((250*logo_i)+3000).addClass('bg_highlight');
	}*/
	
	
		//$('.bg_grid_row').eq(2).children('.bg_grid').eq(40).addClass('bg_highlight');
		$('.bg_grid_row').eq(3).children('.bg_grid').eq(41).addClass('bg_highlight');
		$('.bg_grid_row').eq(4).children('.bg_grid').eq(41).addClass('bg_highlight');
		$('.bg_grid_row').eq(5).children('.bg_grid').eq(41).addClass('bg_highlight');
		$('.bg_grid_row').eq(6).children('.bg_grid').eq(41).addClass('bg_highlight');
		$('.bg_grid_row').eq(7).children('.bg_grid').eq(41).addClass('bg_highlight');
		$('.bg_grid_row').eq(7).children('.bg_grid').eq(40).addClass('bg_highlight');
		$('.bg_grid_row').eq(7).children('.bg_grid').eq(39).addClass('bg_highlight');
		$('.bg_grid_row').eq(6).children('.bg_grid').eq(39).addClass('bg_highlight');
		$('.bg_grid_row').eq(5).children('.bg_grid').eq(39).addClass('bg_highlight');
		$('.bg_grid_row').eq(5).children('.bg_grid').eq(40).addClass('bg_highlight');

});

/*
$('body').append('<div class="screenShot"></div>');

setTimeout(function(){takeSnapShot();}, 10000);

function takeSnapShot(){
	html2canvas(document.body, {
	  onrendered: function(canvas) {
		document.body.appendChild(canvas);
		$('canvas').appendTo('.screenShot');
		//$('.screenShot').appendChild(canvas);
	  }
	});
}
*/

</script>


<!--script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41028348-1', 'davecreate.com');
  ga('send', 'pageview');

</script-->

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PPGLH3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PPGLH3');</script>
<!-- End Google Tag Manager -->

</body>
</html>
